--- dosfstools-2.1/mkdosfs/mkdosfs.c.llseek	Mon Aug 16 11:44:06 1999
+++ dosfstools-2.1/mkdosfs/mkdosfs.c	Mon Aug 16 11:44:50 1999
@@ -95,9 +95,10 @@
 /* Use the _llseek system call directly, because there (once?) was a bug in
  * the glibc implementation of it. */
 #include <linux/unistd.h>
-#ifndef __NR__llseek
-#error _llseek system call not present
-#endif
+#if !defined(__alpha__) && !defined(__ia64__)
+# ifndef __NR__llseek
+#  error _llseek system call not present
+# endif
 static _syscall5( int, _llseek, uint, fd, ulong, hi, ulong, lo,
 		  loff_t *, res, uint, wh );
 
@@ -109,6 +110,8 @@
 	return (loff_t)-1;
     return actual;
 }
+
+#endif /* __alpha__ && __ia64__ */
 
 /* Constant definitions */
 
--- dosfstools-2.1/dosfsck/io.c.llseek	Mon Aug 16 11:49:35 1999
+++ dosfstools-2.1/dosfsck/io.c	Mon Aug 16 11:48:44 1999
@@ -42,9 +42,10 @@
 /* Use the _llseek system call directly, because there (once?) was a bug in
  * the glibc implementation of it. */
 #include <linux/unistd.h>
-#ifndef __NR__llseek
-#error _llseek system call not present
-#endif
+#if !defined(__alpha__) && !defined(__ia64)
+# ifndef __NR__llseek
+#  error _llseek system call not present
+# endif
 static _syscall5( int, _llseek, uint, fd, ulong, hi, ulong, lo,
 		  loff_t *, res, uint, wh );
 
@@ -57,6 +58,7 @@
     return actual;
 }
 
+#endif /* __alpha__ && __ia64__ */
 
 void fs_open(char *path,int rw)
 {
